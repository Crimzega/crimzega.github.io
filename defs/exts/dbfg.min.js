HTMLCanvasElement.prototype.toBase64=function(e="image/png",t=1){return this.toDataURL(e,t).replace("data:"+e+";base64,","")},Number.prototype.toHex=function(e){for(var t,n=0;n<e;n++)t+="0";return(t+this.toString(16)).substr(e)},window.saveFusion=function(e){var t=new JSZip,n=document.querySelector("canvas#canvas_CHARCurrent");n.getContext("2d"),t.file(e+".png",n.toBase64("image/png"),{base64:!0}),t.generateAsync({type:"blob",compression:"DEFLATE",compressionOptions:{level:6}}).then(function(t){saveAs(t,e)})};